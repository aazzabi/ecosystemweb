{% extends 'base.html.twig' %}

{% block title %}Annonces{% endblock %}
 {% block stylesheets %}
     <style>
         .card-product .img-wrap {
             border-radius: 3px 3px 0 0;
             overflow: hidden;
             position: relative;
             height: 220px;
             text-align: center;
         }

         .card-product .img-wrap img {
             max-height: 100%;
             max-width: 100%;
             object-fit: cover;
         }

         .card-product .info-wrap {
             overflow: hidden;
             padding: 15px;
             border-top: 1px solid #eee;
         }

         .card-product .bottom-wrap {
             padding: 15px;
             border-top: 1px solid #eee;
         }

         .label-rating {
             margin-right: 10px;
             color: #333;
             display: inline-block;
             vertical-align: middle;
         }

         .card-product .price-old {
             color: #999;
         }

     </style>
 {% endblock %}
{% block javascripts %}
    <script src="{{ asset('assets/js/jquery.js') }}" type="text/javascript"></script>
    <script>
        $(document).ready(function(){
            $(".jaime").click(function () {
                var id = $(this).val();

                $.ajax({
                    dataType: "json",
                    url: "{{ path("f_annonce_jaime") }}",
                    data: {
                        "Id": id
                    },
                    success: function(response){
                        $(".jaime").hide();
                        $(".dislike").show();

                    }});
            });
        });
    </script>
    <script>
        $(document).ready(function(){
            $(".aaa").change(function () {
               var val = document.getElementById('a').options[document.getElementById('a').selectedIndex].text;
               console.log(val);
                $.ajax({
                    dataType: "json",
                    url: "{{ path("test") }}",
                    data: {
                        "valeur": val
                    },
                    success: function(data){

                    }});
            });
        });
    </script>
{% endblock %}
{% block body %}
    <div class="container-fluid" style="padding: 50px;">
        <div class="row">
            <div class="col-2 offset-10 text-right">
                <a href="{{ path('du_annonce_new') }}" class="btn btn-success">
                    <i class="icon-plus">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                        &nbsp;Ajouter une Annonce
                    </i>
                </a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <h3>Filiter By</h3>
            </div>
            <div class="col-md-9">
                <div class="row">
                    <div class="col-md-3 offset-1">
                        <form role="form">
                            <div class="form-group form-group-default input-group">
                                <div class="form-input-group">
                                    <label>Recherche tous les Annonce</label>
                                    <input type="search" id="aa" class="form-control">
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-2">
                        <div class="btn btn-lg btn-primary">Chercher
                        </div>
                    </div>
                    <div class="col-md-3 ">
                        <form class="aaa" role="form" style="width: 100%;height: 51px;">
                            <select id="a"  class="form-control form-control-lg" title="Trier Par :">
                                <option></option>
                                <option value="Pr">Plus r√©cente</option>
                                <option value="PE">Prix Eleve</option>
                                <option value="PB">Prix Bas</option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3 " id="sticky-sidebar">

            <div class="card-group horizontal" id="accordion" role="tablist" aria-multiselectable="true">
                <div class="card card-default m-b-0">
                    <div class="card-header " role="tab" id="headingOne">
                        <h4 class="card-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne"
                               aria-expanded="false" aria-controls="collapseOne" class="collapsed">
                                Categories
                            </a>
                        </h4>
                    </div>
                    <div id="collapseOne" class="collapse" role="tabcard" aria-labelledby="headingOne" style="">
                        <div class="card-body">
                            <ul class="list-group">
                                <a href="{{ path('f_annonce_index') }}">
                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                        All
                                        {#<span class="badge badge-primary badge-pill">{{ c.annonces | length}}</span>#}
                                    </li>
                                </a>
                                {% for c in categories %}
                                    <a href="{{ path('f_recherch_Categorie', { 'cat': c.id }) }}">
                                        {#{{ dump(c) }}#}
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            {{ c.libelle }}
                                            {#<span class="badge badge-primary badge-pill">{{ c.annonces | length}}</span>#}
                                        </li>
                                    </a>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="card card-default m-b-0">
                    <div class="card-header " role="tab" id="headingTwo">
                        <h4 class="card-title">
                            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"
                               aria-expanded="false" aria-controls="collapseTwo">
                                Price
                            </a>
                        </h4>
                    </div>
                    <div id="collapseTwo" class="collapse" role="tabcard" aria-labelledby="headingTwo">
                        <div class="card-body" style="padding-left: 30px !important" ;>
                            <div class="align-content-center">

                                <label>Min</label>
                                <input type="number" class="col-4" id="inputEmail4" placeholder="$0">
                                <input type="number" class="col-4" placeholder="$10000">
                                <label>Max</label>

                            </div>
                            <div class="align-content-center">
                                <a href="{{ path('du_annonce_index') }}"
                                   class="btn btn-tag   btn-tag-dark btn-tag-rounded">
                                    <i class="fa fa-money" aria-hidden="true"></i> Confirmer</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-9" id="main">
            <div class="row" id="aa" style="margin-right:30px; margin-left: 30px;">
                {% for a in annonces %}
                    <div class="col-md-4">
                        <figure class="card card-product">
                            <div class="img-wrap">
                                {% if a.photo != '' %}
                                    <img style="width:230px;" src="{{ asset('uploads/Annonce/photo/' ~ a.photo) }}"
                                         class="card-img-top">
                                {% else %}
                                    <img alt="annonce_Pic" style="width:230px ; height: 230px;"
                                         src="{{ asset('assets/img/annonces.png') }}"
                                         id="profile-image1" class="card-img-top">
                                {% endif %}
                            </div>
                            <figcaption class="info-wrap">
                                <h4 class="title">{{ a.titre }}</h4>
                                <p class="desc">{{ a.description }}</p>
                                <div class="price-wrap h5">
                                    <span class="price-new">${{ a.prix }}</span>
                                        <button type="submit" value="{{ a.id}}" class="jaime btn btn-tag   btn-tag-light btn-tag-rounded m-r-10 float-right">
                                            <i class="fa fa-thumbs-up" aria-hidden="true"></i> Like
                                        </button>
                                </div>
                            </figcaption>
                            <div class="bottom-wrap">

                                <a href="{{ path('du_annonce_show', { 'id': a.id }) }}" class="btn btn-tag   btn-tag-light btn-tag-rounded m-r-10 float-left">panier
                                    <i class="fa fa-thumbs-up" aria-hidden="true"></i>
                                </a>
                                <a href="{{ path('f_annonce_show', { 'id': a.id }) }}" class="btn btn-tag
                                btn-tag-light btn-tag-rounded m-r-10 float-right">
                                    show <i class="fa fa-eye" aria-hidden="true"></i>
                                </a>
                            </div> <!-- bottom-wrap.// -->
                        </figure>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    </div>
{% endblock %}
